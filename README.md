
**سؤال 1: إنشاء كتلة استعلام عن الراتب وطباعة (إيرادات المبيعات أكبر من 100 ألف)**

**الجواب:**
```sql
-- تحقق مما إذا كانت إيرادات المبيعات أكبر من 100 ألف 
SELECT 
    CASE 
        WHEN SUM(sales) > 100000 THEN 'إيرادات المبيعات أكبر من 100 ألف' 
        ELSE 'إيرادات المبيعات أقل من أو تساوي 100 ألف' 
    END AS حالة_الإيرادات 
FROM employees;
```

**شرح:**
- يقوم الكود بحساب إجمالي إيرادات المبيعات عبر جمع قيم العمود `sales` في جدول `employees`.
- يتحقق الكود مما إذا كانت الإيرادات الإجمالية أكبر من 100000.
- في حال كانت الإيرادات أكبر، يتم طباعة "إيرادات المبيعات أكبر من 100 ألف"، وإلا يتم طباعة "إيرادات المبيعات أقل من أو تساوي 100 ألف".

**تقييم:**
- يقدم الحلاقة والتعليمات البرمجية نفس النتيجة.
- الإجراء المخزن يوفر مزايا إضافية من حيث إعادة الاستخدام وتحسين وضوح التعليمات البرمجية.

---

**سؤال 2: إنشاء إجراء مخزن مع أي استعلام ثم تنفيذ الإجراء**

**الجواب:**
```sql
CREATE PROCEDURE check_sales_revenue()
BEGIN
    DECLARE @revenue INT;
    
    -- احسب إجمالي إيرادات المبيعات
    SELECT @revenue = SUM(sales) FROM employees;
    
    IF @revenue > 100000 THEN
        PRINT 'إيرادات المبيعات أكبر من 100,000.';
    ELSE
        PRINT 'إيرادات المبيعات أقل من أو تساوي 100,000.';
    END IF;
END;
```

**شرح:**
- يعلن الإجراء المخزن متغيرًا `@revenue` لحفظ إجمالي إيرادات المبيعات.
- يقوم الإجراء بحساب إجمالي إيرادات المبيعات عبر استخدام استعلام `SUM()` على عمود `sales` من جدول `employees`.
- يتحقق الإجراء مما إذا كانت الإيرادات الإجمالية أكبر من 100000 ويقوم بطباعة النتيجة المناسبة.

**تنفيذ الإجراء:**
```sql
EXEC check_sales_revenue;
```

**تقييم:**
- الإجراء المخزن يوفر إمكانية إعادة الاستخدام ويحسن وضوح التعليمات البرمجية.
- يمكن تجميع التعليمات البرمجية المخزنة مسبقًا، مما يؤدي إلى أداء أفضل.
